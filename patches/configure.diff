--- configure.orig	2005-09-19 18:44:14.000000000 -0700
+++ configure	2005-09-19 19:20:43.000000000 -0700
@@ -5572,7 +5572,7 @@
 
 #include <time.h> /* to get time_t on SCO */
 #include <sys/types.h>
-#if defined(SVR4) && !defined(DGUX)
+#if (defined(SVR4) || defined(__APPLE__)) && !defined(DGUX)
 #include <utmpx.h>
 #define utmp utmpx
 #else
@@ -5581,6 +5581,10 @@
 #ifdef __hpux
 #define pututline _pututline
 #endif
+#ifdef __APPLE__
+#define pututline pututxline
+#define getutent getutxent
+#endif
 
 int
 main ()
